<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F´ Flight Software - C/C++ Documentation: docs/v1.5/UsersGuide/dev/configuring-fprime.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">F´ Flight Software - C/C++ Documentation
   &#160;<span id="projectnumber">NASA-v1.6.0</span>
   </div>
   <div id="projectbrief">A framework for building embedded system applications to NASA flight quality standards.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('v1_85_2_users_guide_2dev_2configuring-fprime_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">docs/v1.5/UsersGuide/dev/configuring-fprime.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="v1_85_2_users_guide_2dev_2configuring-fprime_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Configuring F´</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;This guide is a first attempt to describe the various configuration settings in F´.  Most users can operate with the</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;default settings, but as the system design is finalized, some of these options may need to be changed such that the</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;system is most efficient.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;This guide includes:</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;- [How to Configure F´](#how-to-configure-f)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;- [AcConstants.ini](#acconstantsini)</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;- [FpConfig.hpp](#fpconfighpp)</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    - [Type Settings](#type-settings)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    - [Object Settings](#object-settings)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    - [Asserts](#asserts)</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    - [Port Tracing](#port-tracing)</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    - [Port Serialization](#port-serialization)</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    - [Serialization Type ID](#serializable-type-id)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    - [Buffer Sizes](#buffer-sizes)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    - [Text Logging](#text-logging)</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    - [Misc Configuration Settings](#misc-configuration-settings)</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;- [Component Configuration](#component-configuration)</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;- [Conclusion](#conclusion)</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;## How To Configure F´ </div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;All configurable files (top-level and component-specific) for F´ are available in the top-level `config` directory. If</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;a user is using an out-of-source deployment, as recommended after release 1.5, this whole directory can be copied and</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;the location of the project&#39;s copy can be specified as part of the build.</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;AcConstants.ini follows [python&#39;s INI](https://docs.python.org/3/library/configparser.html#supported-ini-file-structure)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;format and the `FpConfig.hpp` file is a C++ header allowing the user to define global settings. Where components allow</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;specific configuration, a `&lt;component&gt;Cfg.hpp` is available to be modified as well.</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;A project can clone `AcConstants.ini` or the whole set of `*.hpp` files or both.  The project must take ownership of </div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;all `*.hpp` due to C++ compiler constraints. By default, the provided configuration from the framework is used.</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;## AcConstants.ini</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;AcConsstants.ini is used to set the constants for the autocoded components provided by the framework. This allows</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;projects to appropriately size the number of ports provided by many of the command and data handling components defined</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;in the `Svc` package. **Note:** internal configurations like table sizes are set in the component specific header as</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;these settings aren&#39;t autocoded.  See: [Component Configuration](#component-configuration)</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;These settings may need to be increased for large projects with many components, or minimized for projects with a small</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;number of components.</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;| Setting                            | Description                                                                                           | Default | Valid Values     |</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;|------------------------------------|-------------------------------------------------------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;| ActiveRateGroupOutputPorts         | Number of outputs from active rate group. Limits number of components attached to a single rate group | 10      | Positive integer |</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;| CmdDispatcherComponentCommandPorts | Number of command and command registration ports. Limits number of components handling commands       | 30      | Positive integer |</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;| CmdDispatcherSequencePorts         | Number of incoming ports to command dispatcher, e.g. uplink and command sequencer                     | 5       | Positive integer |</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;| RateGroupDriverRateGroupPorts      | Number of rate group driver output ports. Limits total number of different rate groups                | 3       | Positive integer |</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;| HealthPingPorts                    | Number of health ping output ports. Limits number of components attached to health component          | 25      | Positive integer |</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;An example INI setting would look like:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;```ini</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;setting = 123; Comment</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;```</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;## FpConfig.hpp</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;Some configurations may be changed during compilation time. The F′ framework has a number of optional features that can</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;be enabled or disabled by editing the `config/FpConfig.hpp` file.  These changes affect of the whole of the F´</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;deployment. Users can change or override defined *C* macro values that activate or disable code by using complier flags</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;for different deployment settings. During flight software (FSW) execution, disabling unnecessary features saves memory</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;and CPU cycles.</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;All of these settings should be set in `FpConfig.hpp` and for most projects, this whole file will be cloned and owned</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;for their specific settings. These settings, typically the user will define the setting to be 0 for off and 1 for on.</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;e.g.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;```c</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;#define FW_SOME_SETTING 1</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;```</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;### Type Settings</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;Many architectures support different sizes of types. In addition, projects may wish to change the size of the various</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;custom types specified in the framework. This section will describe these settings.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;#### Architecture Supported Primitive Types</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;The architecture is designed to be portable to different processor architectures. Some architectures such as small</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;microcontrollers do not support the full range of types. The architecture supports a non-sized integer type named</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;NATIVE_INT_TYPE. The NATIVE_INT_TYPE is recommended for code (e.g., loop variables) where a particular size is</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;not needed in order to make it more portable. An additional type NATIVE_UINT_TYPE is available for unsigned variables.</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;These types are defined in `Fw/Types/BasicTypes.hpp` and use compiler macros for sizing. See:</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;[Primitive Types](./../user/enum-arr-ser.md)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;In addition to these types, F´ specifies types of a given size and allows for configuration values to turn the larger</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;types on/off such that smaller architectures can disable them.  These settings are described below.</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;**Table 32.** Macros for supported types.</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;| Macro          | Definition                                                               | Default | Valid Values   |</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;| ---------------| ------------------------------------------------------------------------ |---------|----------------|</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;| FW_HAS_64_BIT  | The architecture supports 64-bit integers.                               | 1 (on)  | 0 (off) 1 (on) |</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;| FW_HAS_32_BIT  | The architecture supports 32-bit integers.                               | 1 (on)  | 0 (off) 1 (on) |</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;| FW_HAS_16_BIT  | The architecture supports 16-bit integers.                               | 1 (on)  | 0 (off) 1 (on) |</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;| FW_HAS_F64     | The architecture supports 64-bit double-precision floating point values. | 1 (on)  | 0 (off) 1 (on) |</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;Example:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;```</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;// Turn of 64-bit integers (double)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;#define FW_HAS_F64 0</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;```</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;#### Configured Type Definitions</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;**WARNING:** to run the system with the standard F´ GDS, these changes need to be made in the python GDS support code</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;as well as here. This is non-trivial and will be fixed in future releases. Unless the project intended to modify the</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;GDS code, or use an alternate GDS for all functions, these settings should be left as their defaults.</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;The value which represents a serialized boolean can be set using these macros. This only affects what value is written</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;when the boolean is serialized</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;**Table 33:** Macros for boolean serialization</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;| Macro                    | Definition                  | Default | Valid Values |</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;|--------------------------|-----------------------------|---------|--------------|</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;| FW_SERIALIZE_TRUE_VALUE  | True value when serialized  | 0xFF    | 0 to 0xFF    |</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;| FW_SERIALIZE_FALSE_VALUE | False value when serialized | 0x00    | 0 to 0xFF    |</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;Special named types used by F´ are mapped to some form of a primitive type integer type. This is done for ease of</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;reading F´ code and is a standard practice in C/C++. The framework allows projects to change the type they used for</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;these types to optimize transmitted bytes. Again, any changes must match the GDS in order to decode the values</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;correctly and thus changing these values should be done carefully.</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;**Table 34:** Macros for custom types</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;| Macro                       | Definition                             | Default | Valid Values      |</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;|-----------------------------|----------------------------------------|---------|-------------------|</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;| FwPacketDescriptorType      | Type storing F´ packet type descriptor | U32     | U8, U16, U32, U64 |</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;| FwOpcodeType                | Type storing F´ opcodes                | U32     | U8, U16, U32, U64 |</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;| FwChanIdType                | Type storing F´ channel ids            | U32     | U8, U16, U32, U64 |</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;| FwEventIdType               | Type storing F´ event ids              | U32     | U8, U16, U32, U64 |</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;| FwPrmIdType                 | Type storing F´ parameter ids          | U32     | U8, U16, U32, U64 |</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;| FwBuffSizeType              | Type storing the size of an F´ buffer  | U16     | U8, U16, U32, U64 |</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;| FwEnumStoreType             | Type storing F´ enum values            | I32     | I8, I16, I32, I64 |</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;| FwTimeBaseStoreType         | Type storing F´ timebase enum          | U16     | U8, U16, U32, U64 | </div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;| FwTimeContextStoreType      | Type storing F´ time context           | U8      | U8, U16, U32, U64 |</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;**Note:** for a further understanding of timebase and time context, see the next section.</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;#### Time Base and Time Context</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;The F′ time tags have a field that specifies the time base of the time tag. A time base is defined as a clock in the</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;system correlated with a known epoch. It is often the case that when a system is being initialized, it does not always</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;have access to a clock correlated to external operations. It can transition through several time bases (processor,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;radio, Earth) on the way to becoming fully operational. The TimeBase type defines the set of clocks in the system tha</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;can produce a time tag. It lets users of the system see which clock was used when time tagging telemetry.</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;Time contexts are another value associated with the time.</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;**WARNING:** changes to this value must be done in tandem with the F´ GDS for F´ GDS features to work. Thus most</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;projects don&#39;t modify these settings just like the types defined above.</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;```</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;enum TimeBase {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    TB_NONE, //!&lt; No time base has been established</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    TB_PROC_TIME, //!&lt; Indicates time is processor cycle time. Not tied to external time</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    TB_WORKSTATION_TIME, //!&lt; Time as reported on workstation where software is running. For testing.</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    TB_DONT_CARE = 0xFFFF //!&lt; Don&#39;t care value for sequences. If FwTimeBaseStoreType is changed, value should be changed</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;};</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;```</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;Time base and time context usage may be turned on and off using the macros shown below:</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;| Macro                    | Definition                                  | Default | Valid Values      |</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;| ------------------------ | ------------------------------------------- |---------|-------------------|</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;| FW_USE_TIME_BASE         | Enables the time base Fw::time field        | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;| FW_USE_TIME_CONTEXT      | Enables the time context Fw::time field     | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;### Object Settings</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;The architecture allows for various settings to control, monitor, and trace objects in the system. These settings</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;typically result in a larger binary size, but make the framework and system easier to debug. This section includes</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;a discussion of OS objects like Tasks and Queues as well.</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;#### Object Naming</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;The architecture can store names for each object created. This is useful when using object registries or tracing to see</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;what objects exist and how they interact. The object naming does increase the per-object storage and code size, so in a</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;resource-constrained environment, disabling this feature might be desirable. This macro should be used in developer</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;implementation classes to call the correct constructor in the code-generated base classes. Table 35 provides the</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;macros related to this feature.</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;The `Os::Queue` class stores a queue name as private data. Table 35 provides the macro for this feature. The `Os::Task`</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;class stores a task name as private data. Table 35 provides the macro for this feature as well.</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;**Table 35.** Macros for object naming, queue naming, and task namining</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;| Macro                    | Definition                                  | Default | Valid Values      |</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;| ------------------------ | ------------------------------------------- |---------|-------------------|</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;| FW_OBJECT_NAMES          | Enables storage and retrieval of the name   | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;| FW_OBJ_NAME_MAX_SIZE     | Size of the buffer storing the object name  | 80      | Positive integer  |</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;| FW_QUEUE_NAME_MAX_SIZE   | Size of the buffer storing the queue names  | 80      | Positive integer  |</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;| FW_TASK_NAME_MAX_SIZE    | Size of the buffer storing task names       | 80      | Positive integer  |</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;**Note:** If the size of the string passed to the code-generated component base classes is larger than this size, the</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;string will be truncated. FW_OBJECT_NAMES must be turned on for FW_OBJ_NAME_MAX_SIZ to have any effect.</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;**Note:** FW_QUEUE_NAME_MAX_SIZE and FW_TASK_NAME_MAX_SIZE are only used if FW_OBJECT_NAMES is **turned off**.</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;Otherwise the supplied object name is used.</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;#### Object to String</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;The framework port and object classes have an optional toString() method. This method by default returns the instance</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;name of the object, but toString() is defined as a virtual method so a developer class can override this and provid</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;custom information. Table 35 provides the macros to configure this feature.</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;**Note:** for these settings to work FW_OBJECT_NAMES must be turned on.</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;**Table 36.** Macros for object to</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;string.</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;| Macro                                 | Definition                                                  | Default | Valid Values      |</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;| ------------------------------------- | ----------------------------------------------------------- |---------|-------------------|</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;| FW_OBJECT_TO_STRING                   | Enables the toString() method                               | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;| FW_OBJ_TO_STRING_BUFFER_SIZE          | Defines buffer size used to store toString() results        | 255     | Positive integer  |</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;| FW_SERIALIZABLE_TO_STRING             | Defines a toString() method for code-generated serializable | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;| FW_SERIALIZABLE_TO_STRING_BUFFER_SIZE | Defines buffer size of toString() result for serializables  | 255     | Positive integer  |</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;| FW_ARRAY_TO_STRING                    | Defines a toString() method for code-generated arrays       | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;| FW_ARRAY_TO_STRING_BUFFER_SIZE        | Defines buffer size of toString() result for arrats         | 256     | Positive integer  |</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;#### Object Registry</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;An object registry is a class that holds a list of framework component and port objects. The registry can be used to</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;list all the objects, or call common functions on all objects. A base class for the object registry is defined in</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;`Fw/Obj/ObjBase.hpp`, and a simple implementation can be found in `Fw/Obj/SimpleObjRegistry.hpp`.</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;Table 37 provides the macros to configure this feature. Message queues allow for their own registration such that the</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;project may track them as well.</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;**Table 37.** Macros for object</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;registry.</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;| Macro                         | Definition                                                                  | Default | Valid Values      |</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;| ----------------------------- | ----------------------------------------------------------------------------|---------|-------------------|</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;| FW_OBJECT_REGISTRATION        | Enables object registries.                                                  | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;| FW_OBJ_SIMPLE_REG_ENTRIES     | The size of the array in the simple object registry used to store objects.  | 500     | Positive integer  |</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;| FW_OBJ_SIMPLE_REG_BUFF_SIZE   | The size of the buffer used to store object names in the simple registry.   | 255     | Positive integer  |</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;| FW_QUEUE_REGISTRATION         | Enables queue registries.                                                   | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;| FW_QUEUE_SIMPLE_QUEUE_ENTRIES | The size of the array in the simple object registry used to store queues.   | 100     | Positive integer  |</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;**Note:** FW_OBJECT_REGISTRATION must be turned on for FW_OBJ_SIMPLE_REG_ENTRIES and</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;FW_OBJ_SIMPLE_REG_BUFF_SIZE to have any effect.</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;**Note:** See table 35 for configuring queue name sizes.</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;### Asserts</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;The assert feature is described in [F´ Asserts](./assert.md). This configuration allows a project to turn asserts off,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;use hash IDs for the assert message, or use full filenames for the assert message. Table 38 provides ways that asserts</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;can be configured.</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;**Table 38.** Macros for assert.</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;| Macro                  | Definition                       |                                                                    | Default            |</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;| ---------------------- | ---------------------------------| -------------------------------------------------------------------|--------------------|</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;| FW_ASSERT_LEVEL        | Sets the assert report level to: |                                                                    | FW_FILENAME_ASSERT |</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;|                        | **Value**                        | **Definition**                                                     |                    |</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;|                        | FW_NO_ASSERT                     | Asserts turned off, removing all assert code.                      |                    |</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;|                        | FW_FILEID_ASSERT                 | Asserts turned on, hash value used in place of __FILE__ on message |                    |</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;|                        | FW_FILENAME_ASSERT               | Asserts turned on, __FILE__ macro is used in the assert message    |                    |</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;| FW_ASSERT_TEXT_SIZE    | The buffer size used to store the assert message  |                                                   | 120                |</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;Setting assert level FW_FILEID_ASSERT  saves a lot of code space since no file name is stored. The make system</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;supplies this to the compiler by hashing the file name. The original filename can be recovered by running</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;`fprime-util hash-to-file &lt;hash&gt;`.</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;Setting assert level to FW_ASSERT_TEXT_SIZE can ease debugging asserts, but typically FW_ASSERT_TEXT_SIZE must be</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;increased as most file name paths are longer than 120.</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;### Port Tracing</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;When components are interconnected, it is often useful to trace the set of invocations through components and ports. The</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;port base class has a `trace()` call that is invoked by the derived port classes whenever the port is invoked. The</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;`trace()` calls `Os::Log::log()` with the name of the port once the port base class method `setTrace()` has been called.</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;Individual ports can be have tracing turned on and off by calling the `overrideTrace()` method on the port instance.</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;Table 39 provides the macro to configure this feature.</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;**Table 39.** Macro for port tracing.</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;| Macro             | Definition            | Default | Valid Values      |</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;| ----------------- | --------------------- |---------|-------------------|</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;| FW_PORT_TRACING   | Enables port tracing. | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;### Port Serialization</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;As discussed in the user guide, a port type (Input/OutputSerializePort) exists that has no interface type, but instead</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;receives (or sends) a serialized form of the port invocation for the attached port. The primary pattern for this is to</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;invoke components on remote nodes. The code generator generates code in each port that will serialize or deserialize the</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;invocation if it detects that it is connected to a serializing port. If development is for a single node, this feature</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;can be disabled to reduce the code size. Table 40 provides the macro to configure this feature.</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;**Table 40.** Macro for port serialization.</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;| Macro                   | Definition                  | Default | Valid Values      |</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;| ----------------------- | --------------------------- |---------|-------------------|</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;| FW_PORT_SERIALIZATION   | Enables port serialization. | 1 (on)  | 0 (off) 1 (on)    |</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;### Serializable Type ID</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;As described [in serializable tyoes](../user/enum-arr-ser.md), serializable types can be defined for use in the code.</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;When objects of those types are serialized, an integer representing the type ID can be serialized along with the object</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;data. This allows the type to be determined later if only the serialized form is available. Turning off this feature</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;will lower the amount of data moved around for a given object when it is serialized. Table 41 provides</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;the macros to configure this feature.</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;**Table 41.** Macros for serializable type ID.</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;| Macro                          | Definition                       | Default | Valid Values      |</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;| -------------------------------| ---------------------------------|---------|-------------------|</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;| FW_SERIALIZATION_TYPE_ID       | Enables serializing the type ID  | 0 (off) | 0 (off) 1 (on)    |</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;| FW_SERIALIZATION_TYPE_ID_BYTES | Defines size of serialization ID | 4       | 1 - 4             |</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;**Note:** smaller values for FW_SERIALIZATION_TYPE_ID_BYTES  means that less data storage is needed, but also</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;limits the number of types that can be defined. FW_SERIALIZATION_TYPE_ID is required to have type IDs in the buffer and</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;thus to introspect what type is contained in the buffer.</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;### Buffer Sizes</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;Many of the built in F´ data types define buffer sizes that allow them to be passed as a com buffer type, sent out</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;through the ground interface, serialized and more. This section will discuss the com buffer configuration, </div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;command, channel, event, parameter and other buffer size arguments.</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;The com buffer must be able to store all the other types such that they can all be passed as generic communication. Thus</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;FW_COM_BUFFER_MAX_SIZE must be large enough to hold each buffer size **and** the header data for each type. Thus these</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;settings are typically derived and this is done by default. **WARNING:** only modify the comm buffer size to ensure that</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;there will be no faults in the system.</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;In all cases, these definitions are global for each types in the system. Thus the buffer **must** be large enough to</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;hold the data for the largest of a given type in the system.  An assert will result if the buffer is set too-small. i.e.</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;the FW_CMD_ARG_BUFFER_MAX_SIZE cannot be smaller than the serialized size of the command with the largest arguments.</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;These types also provide optional string sizes for their constituent pieces. However, the MAX_STRING_SIZE settings must</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;**always** be smaller than the BUFFER_MAX_SIZE. i.e. the command string max size cannot be larger than the command</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;buffer max size, as the string is serialized into the buffer.</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;Commands serialize argument values into these buffers. Events (aka log events) also serialize just the arguments. </div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;Channelized telemetry and parameters serialize the values. Other information like event strings is not serialized but</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;rather reconstructed when needed from the dictionary. This is all placed in a comm buffer.</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;Table 42 provides the macros to configure these features.</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;**Table 42.** Macros for buffers.</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;| Macro                           | Definition                                            | Default | Valid Values     |</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;| ------------------------------- | ------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;| FW_COM_BUFFER_MAX_SIZE          | Defines the size of a com buffer                      | 128     | Positive integer |</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;| FW_CMD_ARG_BUFFER_MAX_SIZE      | Defines the size of command argument buffers          | Derived |                  |</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;| FW_CMD_STRING_MAX_SIZE          | Defines the maximum size of a command string argument | 40      |                  |</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;| FW_LOG_BUFFER_MAX_SIZE          | Defines the size of event buffers                     | Derived |                  |</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;| FW_LOG_STRING_MAX_SIZE          | Defines the maximum size of an event string argument  | 100     |                  |</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;| FW_TLM_BUFFER_MAX_SIZE          | Defines the size of telemetry channel buffers         | Derived |                  |</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;| FW_TLM_STRING_MAX_SIZE          | Defines the maximum size of a channel string value    | 40      |                  |</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;| FW_PRM_BUFFER_MAX_SIZE          | Defines the size of parameter buffers                 | Derived |                  |</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;| FW_PRM_STRING_MAX_SIZE          | Defines the maximum size of a parameter string value  | 40      |                  |</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;Other Buffers are defined in the system for specific purposes. These do not need to fit inside a comm buffer, and thus</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;are less restrictive in sizing.</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;| Macro                      | Definition                                                 | Default | Valid Values     |</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;| -------------------------- | -----------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;| FW_FILE_BUFFER_MAX_SIZE    | Defines buffer and chunk size for file uplink and downlink | 255     | Positive integer |</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;| FW_INTERNAL_INTERFACE_STRING_MAX_SIZE | Maximum size for interface string               | 40      | Positive integer |</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;### Text Logging</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;Event functions that are called are turned into two output port calls. One is a binary port that is used to store the</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;event to be transported to ground software or a testing interface external to the software. The component also takes</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;the format string specified in the XML and populates it with the event arguments, and calls an output port with a</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;readable text version of the event. This is meant to be used for a console interface so the user can see, in text form,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;the same events being stored for transmission. A component with the text logging input port can be used to display the</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;text. A very simple implementation of this can be seen in `Svc/PassiveConsoleTextLogger`. In a resource-constrained</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;environment or in a flight implementation where the console is not viewable, the text formatting and extra code can</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;consume an undesirable number of processor cycles. For this reason, the text logging can be turned off via a macro. This</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;compiles out the code and format strings for text logging. Table 46 provides the macros to configure text logging.</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;**Table 46.** Macros for text logging.</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;| Macro                       | Definition                                              | Default | Valid Values     |</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;| --------------------------- | --------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;| FW_ENABLE_TEXT_LOGGING      | Enables or disables text logging                        | 1 (on)  | 0 (off) 1 (on)   |</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;| FW_LOG_TEXT_BUFFER_SIZE     | Maximum size of the textual representation of the event | 256     | Positive integer | </div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;**Note:** the FW_LOG_TEXT_BUFFER_SIZE should be large enough to store the full event including its text format</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;string after being populated with arguments.</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;### Misc Configuration Settings</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;This setting describes some of the other settings available in `FpConfig.hpp` and did not fit in other sections. These</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;are described in tables below. Table 47 describes other user settings.  Table 48 describes settings defined by the</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;build system that should never be hand-set.</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;**Table 48.** Misc macros available to user.</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;| Macro                       | Definition                                              | Default | Valid Values     |</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;| --------------------------- | --------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;| FW_CMD_CHECK_RESIDUAL       | Enables command serialization extra bytes check         | 1 (on)  | 0 (off) 1 (on)   |</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;| FW_AMPCS_COMPATIBLE         | Adds argument sizes to event argument serialization     | 0 (off) | 0 (off) 1 (on)   |</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;**Note:** Normally when a command is deserialized, the handler checks to see if there are any leftover bytes in the</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;buffer. If there are, it assumes that the command was corrupted somehow since the serialized size should match the</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;serialized size of the argument list. In some cases, command buffers are padded so the data can be larger than the</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;serialized size of the command. Turning FW_CMD_CHECK_RESIDUAL off can disable this check and allow leftover bytes.</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;**Note:** some ground systems require the size of the event argument to be serialized into the buffer instead of</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;predicting the size using the dictionary. Setting FW_AMPCS_COMPATIBLE will serialize these sizes into the event buffers</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;**and** break compatibility with the F´ ground system as it does not use this feature.</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;**WARNING:** the following settings are defined by the build system and are in `FpConfig.hpp` to provide a default off</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;value. These must be set by the build system as the setting works in unison with other modules that the build system</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;includes when enabling these settings.</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;**Table 48.** Macros for use by build system only</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;| Macro                       | Definition                                              | Default | Valid Values     |</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;| --------------------------- | --------------------------------------------------------|---------|------------------|</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;| FW_BAREMETAL_SCHEDULER      | Enables baremetal scheduler hooks in active components  | 0 (off) | 0 (off) 1 (on)   |</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;## Component Configuration</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;Component configurations are also provided as part of the project&#39;s config directory. If the directory is not provided,</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;then the default from the framework is used. **Remember:** if the project overrides any configuration, that new</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;directory must contain all the component headers as well as the `FpConfig.hpp` as C++ prevents including individual</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;headers.</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;These component headers follow the form `&lt;Component&gt;Cfg.hpp` and allows a project to set the configuration for each</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;component&#39;s C++ implementation. This is typically to set maximum sizes for tables, and other static memory allocations.</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;Some components allow users to turn on and off features. If a component does not have a header, it has no configuration</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;for the user to set. </div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;Users are encouraged to look through the header for the component of interest as they should be self descriptive.</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;## Conclusion</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;The user should now have a very detailed understanding of how to configure F´. Although there are some automatic checks</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;built into F´ to check for some invalid configurations, the user should take care to understand the implication of</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;changes to these settings. The F´ team sincerely hopes this bombardment of information will prove useful.</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="v1_85_2_users_guide_2dev_2configuring-fprime_8md.html">configuring-fprime.md</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
